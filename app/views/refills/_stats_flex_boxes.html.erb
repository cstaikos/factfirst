<div class="flex-box-wrapper">
  <div class="flex-boxes">
    <a href="javascript:void(0)" class="flex-box">
      <h1 class="flex-title"><i class="fa fa-file-image-o"></i> Share Dynamic Images</h1>
      <p>Our dynamically generated fact infographics will change based on community feedback! Watch the state of your facts evolve. lorem</p>
    </a>
    <a href="javascript:void(0)" class="flex-box">
      <h1 class="flex-title"><i class="fa fa-bar-chart"></i> Evidence Based Ranking</h1>
      <p>Facts are rated based on the strength of evidence attached to them. Agree or disagree? Submit your own evidence!</p>
    </a>
    <a href="javascript:void(0)" class="flex-box">
      <h1 class="flex-title"><i class="fa fa-university"></i> Learn Truthometer Etiquette</h1>
      <p>Our mission statement and philosophy. A set of guidelines to ensure that your truthometer experience gets a high rating.</p>
    </a>
  </div>
</div>

<div class="users-facts">
  <h1>Average truthiness of submitted facts: <%= @user.facts.empty? ? 'N/A' : @user.facts.average(:score).round(2) %>%</h1>
  <h2>Total of <%= pluralize @user.facts.count, 'fact' %> posted</h2>
  <div>
    <h2>Recent facts posted:</h2>
    <ul>
      <% @user.facts.last(10).each do |fact| %>
        <li><strong><%= fact.score %>%&nbsp;</strong><%= link_to fact.body, fact %></li>
      <% end %>
    </ul>
  </div>
</div>

<br><br>

<div class="users-evidence">
  <h1>Quality of evidence submitted: <%= @user.evidence_quality %>%</h1>
  <p>Total of <%= pluralize @user.evidences.count, 'piece' %> of evidence submitted</p>
  <div>
    <h2>Recent evidence submitted:</h2>
    <ul>
      <% @user.evidences.last(10).each do |evidence| %>
        <li>
          <strong>
            <%= evidence.upvotes %> upvotes, <%= evidence.downvotes %> downvotes&nbsp;
          </strong>
          <p><%= evidence.url %></p>
          <p><%= evidence.support ? 'Supporting' : 'Refuting' %> evidence attached to: <%= link_to evidence.fact.body, evidence.fact %></p>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<br><br>

<div class="users-votes">
  <p>Total of <%= pluralize @user.votes.count, 'vote' %> cast</p>
  <div>
    <h2>Recent Votes</h2>
    <ul>
      <% @user.votes.last(10).each do |vote| %>
        <li>
          <p>
            <%= vote.upvote ? 'Upvoted' : 'Downvoted' %> <%= vote.evidence.url %>, <br>
            on <%= link_to vote.evidence.fact.body, vote.evidence.fact %>
          </p>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<% if current_user == @user %>

    <div class="users-favorites">
      <h2>My favorites:</h2>
      <ul>
        <% @user.favorites.each do |fact| %>
            <%= render fact %>
        <% end %>
      </ul>
    </div>

<% end %>
